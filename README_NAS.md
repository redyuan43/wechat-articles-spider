# ğŸ  NASå¾®ä¿¡æ–‡ç« è½¬æ¢æœåŠ¡éƒ¨ç½²æŒ‡å—

ä¸“ä¸º Debian NAS ç³»ç»Ÿè®¾è®¡çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« çˆ¬è™«æœåŠ¡

## ğŸ“‹ åŠŸèƒ½ç‰¹ç‚¹

- âœ… **å•æ–‡ä»¶ç›‘å¬**: åªéœ€ç¼–è¾‘ä¸€ä¸ª `urls.txt` æ–‡ä»¶
- âœ… **è‡ªåŠ¨æ¸…ç©º**: å¤„ç†å®Œæˆåè‡ªåŠ¨æ¸…ç©ºURLæ–‡ä»¶
- âœ… **å®Œæ•´æ•°æ®æå–**: æå–æ ‡é¢˜ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´ã€å…³é”®è¯ç­‰
- âœ… **å›¾ç‰‡ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½å¹¶æœ¬åœ°åŒ–å›¾ç‰‡
- âœ… **Webç•Œé¢**: å®æ—¶æŸ¥çœ‹å¤„ç†çŠ¶æ€å’Œç»Ÿè®¡
- âœ… **ç³»ç»ŸæœåŠ¡**: å¼€æœºè‡ªå¯åŠ¨ï¼Œå´©æºƒè‡ªåŠ¨é‡å¯
- âœ… **ä½èµ„æºå ç”¨**: ä¸“ä¸ºNASç¯å¢ƒä¼˜åŒ–

## ğŸš€ å¿«é€Ÿå®‰è£…

### 1. å‡†å¤‡ç¯å¢ƒ
```bash
# SSHç™»å½•åˆ°ä½ çš„NAS
ssh username@ä½ çš„NASçš„IP

# ä¸‹è½½é¡¹ç›®æ–‡ä»¶åˆ°NAS
# (å°†é¡¹ç›®æ–‡ä»¶ä¸Šä¼ åˆ°NASï¼Œæˆ–ä½¿ç”¨git clone)
```

### 2. ä¸€é”®å®‰è£…
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd wechat-articles-spider

# ç»™å®‰è£…è„šæœ¬æ‰§è¡Œæƒé™
chmod +x install_nas.sh service_control.sh

# è¿è¡Œå®‰è£…è„šæœ¬
./install_nas.sh
```

### 3. å¯åŠ¨æœåŠ¡
```bash
# ä½¿ç”¨æ§åˆ¶è„šæœ¬å¯åŠ¨
./service_control.sh start

# æˆ–ç›´æ¥ä½¿ç”¨systemctl
sudo systemctl start wechat-crawler
```

## ğŸ“± ä½¿ç”¨æ–¹æ³•

### æ–¹å¼1: é€šè¿‡NASæ–‡ä»¶ç®¡ç†å™¨
1. ä½¿ç”¨NASçš„File Stationæˆ–æ–‡ä»¶ç®¡ç†App
2. æ‰¾åˆ° `urls.txt` æ–‡ä»¶
3. ç¼–è¾‘æ–‡ä»¶ï¼Œç²˜è´´å¾®ä¿¡æ–‡ç« URL
4. ä¿å­˜æ–‡ä»¶ï¼ŒæœåŠ¡è‡ªåŠ¨å¼€å§‹å¤„ç†

### æ–¹å¼2: é€šè¿‡Samba/FTP
1. é€šè¿‡ç½‘ç»œè®¿é—®NASå…±äº«æ–‡ä»¶å¤¹
2. æ‰¾åˆ° `urls.txt` æ–‡ä»¶
3. ç”¨è®°äº‹æœ¬ç¼–è¾‘ï¼Œæ·»åŠ URL
4. ä¿å­˜åè‡ªåŠ¨å¤„ç†

### æ–¹å¼3: é€šè¿‡SSH
```bash
# SSHç™»å½•NAS
echo "https://mp.weixin.qq.com/s/xxxxxx" >> urls.txt
```

### æ–¹å¼4: é€šè¿‡äº‘ç›˜åŒæ­¥
1. åœ¨NASä¸Šè®¾ç½®äº‘ç›˜åŒæ­¥(OneDrive/Google Driveç­‰)
2. å°†urls.txtåŒæ­¥åˆ°äº‘ç›˜
3. æ‰‹æœºç¼–è¾‘äº‘ç›˜ä¸­çš„æ–‡ä»¶
4. è‡ªåŠ¨åŒæ­¥å¹¶å¤„ç†

## ğŸŒ Webç•Œé¢è®¿é—®

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://ä½ çš„NASçš„IP:8080`

### Webç•Œé¢åŠŸèƒ½
- ğŸ“Š å®æ—¶ç»Ÿè®¡: å¤„ç†æ€»æ•°ã€æˆåŠŸæ•°ã€è¿è¡Œæ—¶é—´
- ğŸ“‹ å½“å‰çŠ¶æ€: æ˜¾ç¤ºæ­£åœ¨å¤„ç†çš„ä»»åŠ¡
- ğŸ“– ä½¿ç”¨è¯´æ˜: è¯¦ç»†çš„æ“ä½œæŒ‡å—
- ğŸ“ æ–‡ä»¶è·¯å¾„: æ˜¾ç¤ºå…³é”®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„

## ğŸ”§ æœåŠ¡ç®¡ç†

### ä½¿ç”¨æ§åˆ¶è„šæœ¬ (æ¨è)
```bash
./service_control.sh start     # å¯åŠ¨æœåŠ¡
./service_control.sh stop      # åœæ­¢æœåŠ¡
./service_control.sh restart   # é‡å¯æœåŠ¡
./service_control.sh status    # æŸ¥çœ‹çŠ¶æ€
./service_control.sh logs      # æŸ¥çœ‹æ—¥å¿—
./service_control.sh web       # æ˜¾ç¤ºWebåœ°å€
```

### ä½¿ç”¨systemctlå‘½ä»¤
```bash
sudo systemctl start wechat-crawler     # å¯åŠ¨
sudo systemctl stop wechat-crawler      # åœæ­¢
sudo systemctl restart wechat-crawler   # é‡å¯
sudo systemctl status wechat-crawler    # çŠ¶æ€
sudo systemctl enable wechat-crawler    # å¼€æœºå¯åŠ¨
sudo systemctl disable wechat-crawler   # å–æ¶ˆå¼€æœºå¯åŠ¨
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sudo journalctl -f -u wechat-crawler

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
sudo journalctl -u wechat-crawler --since "1 hour ago"

# æŸ¥çœ‹æ–‡ä»¶æ—¥å¿—
tail -f service.log
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
wechat-articles-spider/
â”œâ”€â”€ simple_nas_service.py      # ä¸»æœåŠ¡ç¨‹åº
â”œâ”€â”€ wechat_crawler.py          # çˆ¬è™«æ ¸å¿ƒ
â”œâ”€â”€ install_nas.sh             # å®‰è£…è„šæœ¬
â”œâ”€â”€ service_control.sh         # æœåŠ¡æ§åˆ¶è„šæœ¬
â”œâ”€â”€ urls.txt                   # URLè¾“å…¥æ–‡ä»¶
â”œâ”€â”€ service.log               # æœåŠ¡æ—¥å¿—
â”œâ”€â”€ venv/                     # Pythonè™šæ‹Ÿç¯å¢ƒ
â””â”€â”€ wechat_articles/          # è¾“å‡ºç›®å½•
    â”œâ”€â”€ æ–‡ç« 1/
    â”‚   â”œâ”€â”€ æ–‡ç« 1.md          # Markdownæ–‡æ¡£
    â”‚   â”œâ”€â”€ æ–‡ç« 1_content.txt  # çº¯æ–‡æœ¬
    â”‚   â”œâ”€â”€ æ–‡ç« 1_metadata.json # å…ƒæ•°æ®
    â”‚   â”œâ”€â”€ æ–‡ç« 1_keywords.json # å…³é”®è¯åˆ†æ
    â”‚   â””â”€â”€ images/           # æ–‡ç« å›¾ç‰‡
    â””â”€â”€ summary_report.md     # æ±‡æ€»æŠ¥å‘Š
```

## âš™ï¸ é«˜çº§é…ç½®

### ä¿®æ”¹ç«¯å£å·
ç¼–è¾‘ `simple_nas_service.py` ä¸­çš„é…ç½®:
```python
self.config = {
    "web_port": 8080,  # ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£
    # ...å…¶ä»–é…ç½®
}
```

### ä¿®æ”¹è¾“å‡ºç›®å½•
```python
self.config = {
    "output_dir": "/path/to/custom/output",  # è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„
    # ...
}
```

### å¼€å¯è°ƒè¯•æ¨¡å¼
åœ¨æœåŠ¡æ–‡ä»¶æœ«å°¾ä¿®æ”¹:
```python
logging.basicConfig(level=logging.DEBUG)  # å¯ç”¨è°ƒè¯•æ—¥å¿—
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status wechat-crawler

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
sudo journalctl -u wechat-crawler

# æ£€æŸ¥Pythonç¯å¢ƒ
cd /path/to/project
source venv/bin/activate
python3 simple_nas_service.py  # æ‰‹åŠ¨è¿è¡Œæµ‹è¯•
```

### Webç•Œé¢æ— æ³•è®¿é—®
1. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
2. ç¡®è®¤ç«¯å£8080æœªè¢«å ç”¨
3. æ£€æŸ¥NASç½‘ç»œè®¾ç½®

### æ–‡ä»¶æƒé™é—®é¢˜
```bash
# ç¡®ä¿ç”¨æˆ·æœ‰è¯»å†™æƒé™
chmod 755 /path/to/project
chmod 644 urls.txt
chown -R username:username /path/to/project
```

### ä¾èµ–åŒ…å®‰è£…å¤±è´¥
```bash
# æ‰‹åŠ¨å®‰è£…ä¾èµ–
source venv/bin/activate
pip3 install --upgrade pip
pip3 install watchdog flask requests beautifulsoup4 html2text jieba
```

### URLå¤„ç†å¤±è´¥
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤URLæ ¼å¼æ­£ç¡®
3. æŸ¥çœ‹æ—¥å¿—äº†è§£å…·ä½“é”™è¯¯

## ğŸ”„ å‡çº§æœåŠ¡

```bash
# åœæ­¢æœåŠ¡
./service_control.sh stop

# æ›´æ–°ä»£ç æ–‡ä»¶
# (ä¸Šä¼ æ–°ç‰ˆæœ¬çš„.pyæ–‡ä»¶)

# é‡æ–°å®‰è£…ä¾èµ–(å¦‚æœéœ€è¦)
source venv/bin/activate
pip3 install --upgrade -r requirements.txt

# å¯åŠ¨æœåŠ¡
./service_control.sh start
```

## ğŸ“± æ‰‹æœºæ“ä½œæŠ€å·§

### iPhoneç”¨æˆ·
1. **Filesåº”ç”¨**: è¿æ¥NASå…±äº«ï¼Œç›´æ¥ç¼–è¾‘æ–‡ä»¶
2. **Working Copy**: Gitç®¡ç†ï¼ŒåŒæ­¥ä»£ç 
3. **Terminus**: SSHç»ˆç«¯ï¼Œè¿œç¨‹ç®¡ç†

### Androidç”¨æˆ·
1. **ESæ–‡ä»¶æµè§ˆå™¨**: è®¿é—®ç½‘ç»œå…±äº«
2. **JuiceSSH**: SSHç»ˆç«¯
3. **FTPå®¢æˆ·ç«¯**: æ–‡ä»¶ä¼ è¾“

### é€šç”¨æ–¹æ¡ˆ
1. **äº‘ç›˜åŒæ­¥**: æ–‡ä»¶è‡ªåŠ¨åŒæ­¥åˆ°NAS
2. **NASå‚å•†App**: ä½¿ç”¨å®˜æ–¹æ–‡ä»¶ç®¡ç†å™¨
3. **Webç•Œé¢**: æµè§ˆå™¨ç›´æ¥è®¿é—®

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### èµ„æºå ç”¨
- **å†…å­˜**: çº¦50-100MB
- **CPU**: å¤„ç†æ—¶å ç”¨è¾ƒé«˜ï¼Œç©ºé—²æ—¶æä½
- **å­˜å‚¨**: æ ¹æ®æ–‡ç« å’Œå›¾ç‰‡æ•°é‡å¢é•¿

### ä¼˜åŒ–å»ºè®®
1. å®šæœŸæ¸…ç†æ—§æ–‡ç« å’Œå›¾ç‰‡
2. è®¾ç½®åˆç†çš„å¤„ç†é—´éš”
3. é¿å…åŒæ—¶å¤„ç†å¤§é‡URL
4. ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨

## ğŸ¯ æœ€ä½³å®è·µ

### URLç®¡ç†
- ä¸€æ¬¡æ·»åŠ 3-5ä¸ªURLï¼Œé¿å…è¿‡å¤š
- ä½¿ç”¨çŸ­é“¾æ¥æˆ–æ¸…ç†å‚æ•°
- å®šæœŸæ£€æŸ¥å¤„ç†ç»“æœ

### æ–‡ä»¶ç»„ç»‡
- å®šæœŸå½’æ¡£æ—§æ–‡ç« 
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶å¤¹åç§°
- å¤‡ä»½é‡è¦çš„è½¬æ¢ç»“æœ

### ç›‘æ§æœåŠ¡
- å®šæœŸæŸ¥çœ‹æœåŠ¡çŠ¶æ€
- ç›‘æ§æ—¥å¿—æ–‡ä»¶å¤§å°
- å…³æ³¨å¤„ç†æˆåŠŸç‡

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
1. **æœåŠ¡é¢‘ç¹é‡å¯**: æ£€æŸ¥å†…å­˜ä½¿ç”¨å’Œç½‘ç»œè¿æ¥
2. **å¤„ç†é€Ÿåº¦æ…¢**: è°ƒæ•´å¹¶å‘æ•°é‡å’Œè¯·æ±‚é—´éš”
3. **å›¾ç‰‡ä¸‹è½½å¤±è´¥**: æ£€æŸ¥ç½‘ç»œå’Œå­˜å‚¨ç©ºé—´

### è”ç³»æ”¯æŒ
- æŸ¥çœ‹é¡¹ç›®GitHub Issues
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶è·å–é”™è¯¯ä¿¡æ¯
- æä¾›ç³»ç»Ÿç¯å¢ƒå’Œé”™è¯¯æ—¥å¿—

---

ğŸ‰ **æ­å–œï¼ä½ çš„NASå¾®ä¿¡æ–‡ç« è½¬æ¢æœåŠ¡å·²ç»é…ç½®å®Œæˆï¼**

ç°åœ¨ä½ å¯ä»¥è½»æ¾åœ°å°†å¾®ä¿¡æ–‡ç« è½¬æ¢ä¸ºMarkdownæ ¼å¼ï¼Œäº«å—è‡ªåŠ¨åŒ–çš„ä¾¿åˆ©å§ï¼